import os

MAX_RUNTIME_IN_SECONDS_ENVVAR = 'TRAINING_MAX_RUNTIME_IN_SECONDS'
INSTANCE_COUNT_ENVVAR = 'TRAINING_INSTANCE_COUNT'
INSTANCE_TYPE_ENVVAR = 'TRAINING_INSTANCE_TYPE'
IMAGE_URI_ENVVAR = 'TRAINING_IMAGE'
IAM_ROLE_EVVAR = 'TRAINING_ROLE_ARN'
SUBNET_ENVVAR = 'TRAINING_SUBNET'
SECURITY_GROUP_BATCH_ENVVAR = 'TRAINING_SECURITY_GROUP'
TRAINING_INPUT_BUCKET_ENVVAR = 'TRAIN_BUCKET'
TRAINING_INPUT_CHANNEL_NAME_ENVVAR = 'TRAINING_INPUT_CHANNEL_NAME'
TRAINING_INPUT_CHANNEL_MODE_ENVVAR = 'TRAINING_INPUT_MODE'
TRAINING_INPUT_CHANNEL_COMPRESSION_ENVVAR = 'TRAINING_INPUT_COMPRESSION'
TRAINING_SHARDING_TYPE_ENVVAR = 'TRAINING_SHARDING_TYPE'
MODELS_BUCKET_ENVVAR = 'MODELS_BUCKET'
TRAINED_MODELS_ENVVAR = 'TRAINED_MODELS'
IMPROVE_VERSION_ENVVAR = 'IMPROVE_API_VERSION'
MODEL_NAME_ENVVAR = 'MODEL_NAME'

MODELS_BUCKET_SUBDIR = 'models'
TRAINING_INPUT_BUCKET_SUBDIR = 'rewarded_decisions'


SHUFFLE_INPUT_SEED = 0
VOLUME_SIZE = 3  # ?

JOB_NAME_PREFIX = 'improve-train-job-{}'.format(os.getenv(IMPROVE_VERSION_ENVVAR))
MODEL_NAME_REGEXP = "^[\w\- .]+$"
AWS_BUCKET_PREFIX = 's3://'
AWS_S3_PATH_SEP = '/'
CONFIG_YAML_PATH = 'config/config.yml'
EXPECTED_TRAINER_OUTPUT_FILENAME = 'model.tar.gz'
EXPECTED_MODELS_COUNT = 2

