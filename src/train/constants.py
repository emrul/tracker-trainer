import json
import os

IMAGE_URI_ENVVAR = 'TRAINING_IMAGE'
IAM_ROLE_EVVAR = 'TRAINING_ROLE_ARN'
SUBNET_ENVVAR = 'TRAINING_SUBNET'
SECURITY_GROUP_BATCH_ENVVAR = 'TRAINING_SECURITY_GROUP'
TRAIN_BUCKET_ENVVAR = 'TRAIN_BUCKET'

MODELS_BUCKET_ENVVAR = 'MODELS_BUCKET'
MODEL_NAME_ENVVAR = 'MODEL_NAME'

SERVICE_NAME_ENVVAR = 'SERVICE_NAME'

VOLUME_SIZE_IN_GB = 3  # ?

JOB_NAME_PREFIX = 'improve-train-job'
MODEL_NAME_REGEXP = "^[\w\-.]+$"

SAGEMAKER_TRAIN_JOB_NAME_SEPARATOR = '-'
SAGEMAKER_TRAIN_JOB_NAME_LENGTH = 63
SPECIAL_CHARACTERS_REGEXP = "[^A-Za-z0-9-]"

EXPECTED_TRAINER_OUTPUT_FILENAME = 'model.tar.gz'

EVENT_MODEL_NAME_KEY = 'model_name'
EVENT_WORKER_INSTANCE_TYPE_KEY = 'worker_instance_type'
EVENT_WORKER_COUNT_KEY = 'worker_count'
EVENT_MAX_RECORDS_PER_WORKER_KEY = 'max_records_per_worker'
EVENT_MAX_RUNTIME_IN_SECONDS_KEY = 'max_runtime_in_seconds'

EXPECTED_EVENT_ENTRIES = [
    EVENT_MODEL_NAME_KEY, EVENT_WORKER_INSTANCE_TYPE_KEY, EVENT_WORKER_COUNT_KEY,
    EVENT_MAX_RECORDS_PER_WORKER_KEY, EVENT_MAX_RUNTIME_IN_SECONDS_KEY]
